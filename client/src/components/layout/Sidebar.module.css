.open{--state-open:1}
.sidebar-overlay{display:none}
.sidebar{width:var(--sidebar-width);background:var(--color-bg);backdrop-filter:saturate(160%) blur(12px);padding:32px 32px 40px;display:flex;flex-direction:column;position:fixed;height:calc(100vh - 69px);left:0;top:69px;z-index:90;transition:left .3s ease,width .3s ease,background .3s ease,transform .3s ease;overflow-y:auto;border-right:1px solid var(--color-border)}
.mobile-close-button{display:flex;position:absolute;top:16px;right:16px;z-index:101;width:48px;height:48px;border-radius:12px;background:var(--color-surface);border:1px solid var(--color-border);color:var(--color-text);cursor:pointer;align-items:center;justify-content:center}
.content-col{display:flex;flex-direction:column;gap:20px;align-items:stretch;width:100%}
.quick-row{display:flex;gap:4px;align-items:center;justify-content:space-between;width:100%}
.slim-button{display:flex;align-items:center;justify-content:center;width:36px;height:36px;border-radius:8px;border:1px solid transparent;background:transparent;color:var(--color-text-muted);cursor:pointer}
.slim-button-active{border:1px solid var(--color-primary);background:var(--color-surface);color:var(--color-primary)}
.search-mobile-wrap{margin:8px 0}
.sidebar-search-mobile{display:flex;align-items:center;gap:8px;width:100%;padding:8px 10px;border-radius:10px;background:var(--color-surface);border:1px solid var(--color-border)}
.search-icon{width:28px;height:28px;display:inline-flex;align-items:center;justify-content:center;color:var(--color-text-muted)}
.search-input{background:transparent;border:none;outline:none;color:var(--color-text);width:100%}
.calendar-wrap{margin-bottom:8px;flex-shrink:0}
.no-link{text-decoration:none}
.day-nav-row{display:flex;gap:4px;align-items:center;justify-content:center;margin-top:4px;width:100%}
.btn-prev,.btn-next{padding:2px 0;border-radius:7px;border:1px solid var(--color-border);background:transparent;cursor:pointer;font-size:.68rem;color:var(--color-text);min-width:54px;width:54px;text-align:center;height:26px;line-height:1}
.btn-today{padding:2px 0;border-radius:7px;border:1.5px solid var(--color-primary);background:var(--color-surface);color:var(--color-primary);font-weight:700;font-size:.82rem;min-width:54px;width:54px;height:26px;text-align:center;line-height:1;margin:0 1px;display:flex;align-items:center;justify-content:center}
.spacer{flex:1}
.footer{width:100%;display:flex;flex-direction:column;align-items:center;gap:8px;margin-top:8px}
.sidebar-footer-login{width:72%;max-width:220px;padding:10px 14px;background:var(--color-surface);border:1px solid var(--color-border);color:var(--color-text);border-radius:999px;cursor:pointer;font-weight:700;text-align:center;box-shadow:0 8px 20px rgba(0 0 0 / 18%)}
.version{font-size:10px;color:var(--color-text-muted);text-align:center}

@media (width <= 768px){
  .sidebar-overlay{display:block;position:fixed;inset:0;background:rgba(0 0 0 / 30%);backdrop-filter:blur(2px);z-index:80;opacity:0;pointer-events:none;transition:opacity .2s ease}
  .sidebar-overlay.open{opacity:1;pointer-events:auto}
  .sidebar{transform:translateX(-100%);top:0;height:100vh;padding:24px;padding-top:calc(24px + env(safe-area-inset-top));padding-bottom:calc(24px + env(safe-area-inset-bottom));width:min(calc(var(--sidebar-width)*2),92vw);font-size:1rem;line-height:1.45}
  .search-input{font-size:1rem}
  .sidebar-search-mobile{font-size:1rem}
  .day-nav-row{gap:8px}
  .btn-prev,.btn-next{font-size:.85rem;height:32px;min-width:72px}
  .btn-today{font-size:.95rem;height:32px;min-width:72px}
  .sidebar-footer-login{font-size:1rem;padding:12px 18px}
  .version{font-size:.75rem}
  .sidebar.open{transform:translateX(0)}
}

:global(html.has-open-sidebar){
  overflow: hidden;
}

/* Fine-tune for compact mobile widths (<= 393px) */
@media (max-width: 393px){
  .sidebar{padding:20px;padding-top:calc(20px + env(safe-area-inset-top));padding-bottom:calc(20px + env(safe-area-inset-bottom));width:95vw}
  .mobile-close-button{width:44px;height:44px}
  .btn-prev,.btn-next{height:30px;min-width:64px}
  .btn-today{height:30px;min-width:64px}
  .sidebar-footer-login{width:80%;max-width:200px}
}